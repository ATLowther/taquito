(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return tzFormatter});var bignumber_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(391),bignumber_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__),_tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(55);function tzFormatter(amount,format){var bigNum=new bignumber_js__WEBPACK_IMPORTED_MODULE_0___default.a(amount);return bigNum.isNaN()?amount:"tz"===format?_tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_1__.a.format("mutez","tz",amount)+" ꜩ":"mtz"===format?_tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_1__.a.format("mutez","mtz",amount)+" mꜩ":bigNum.toString()}},124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Balance});var extendStatics,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_tezos_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35),_format__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(121),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},Balance=function(_super){function Balance(props){var _this=_super.call(this,props)||this;return _this.state={balance:null,error:!1},_this}return __extends(Balance,_super),Balance.prototype.refreshBalance=function(){return __awaiter(this,void 0,void 0,function(){var balance;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.context.tz.getBalance(this.props.address)];case 1:return balance=_a.sent(),this.setState({balance:balance,error:!1}),[3,3];case 2:return _a.sent(),this.setState({error:!0}),[3,3];case 3:return[2]}})})},Balance.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.refreshBalance()];case 1:return _a.sent(),[2]}})})},Balance.prototype.componentDidUpdate=function(prevProps){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return prevProps.address===this.props.address?[3,2]:[4,this.refreshBalance()];case 1:_a.sent(),_a.label=2;case 2:return[2]}})})},Balance.prototype.render=function(){return this.state.error?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"Error fetching balance"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,Object(_format__WEBPACK_IMPORTED_MODULE_2__.a)(this.state.balance||"",this.props.format))},Balance.contextType=_tezos_context__WEBPACK_IMPORTED_MODULE_1__.a,Balance}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component)},169:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",function(){return HttpBackend});var HttpBackend=function(){function HttpBackend(){}return HttpBackend.prototype.serialize=function(obj){if(!obj)return"";var str=[];for(var p in obj)if(obj.hasOwnProperty(p)&&obj[p]){var prop="function"==typeof obj[p].toJSON?obj[p].toJSON():obj[p];str.push(encodeURIComponent(p)+"="+encodeURIComponent(prop))}var serialized=str.join("&");return serialized?"?"+serialized:""},HttpBackend.prototype.createXHR=function(){return void 0!==process&&null!=process.versions&&null!=process.versions.node?new(0,__webpack_require__(664).XMLHttpRequest):new XMLHttpRequest},HttpBackend.prototype.createRequest=function(_a,data){var _this=this,url=_a.url,method=_a.method,timeout=_a.timeout,query=_a.query;return new Promise(function(resolve,reject){var request=_this.createXHR();if(request.open(method||"GET",""+url+_this.serialize(query)),request.setRequestHeader("Content-Type","application/json"),request.timeout=timeout||1e4,request.onload=function(){this.status>=200&&this.status<300?resolve(JSON.parse(request.response)):reject({status:this.status,statusText:request.statusText})},request.onerror=function(){reject({status:this.status,statusText:request.statusText})},data){var dataStr=JSON.stringify(data);request.send(dataStr)}else request.send()})},HttpBackend}()}).call(this,__webpack_require__(37))},35:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TezosContext});var _tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(55),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1),TezosContext=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__).a.createContext(new _tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_0__.b)},381:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return BalanceHistory});var extendStatics,react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_tezos_context__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(35),recharts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(76),_format__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(121),__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__awaiter=function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},BalanceHistory=function(_super){function BalanceHistory(props){var _this=_super.call(this,props)||this;return _this.state={error:!1},_this}return __extends(BalanceHistory,_super),BalanceHistory.prototype.refreshBalance=function(){return __awaiter(this,void 0,void 0,function(){var _a,value,timestamp_1,ex_1;return __generator(this,function(_b){switch(_b.label){case 0:return _b.trys.push([0,2,,3]),[4,this.context.query.balanceHistory(this.props.address,{start:new Date(this.props.start),end:new Date(this.props.end)})];case 1:return _a=_b.sent(),value=_a.value,timestamp_1=_a.timestamp,this.setState({balance:value.map(function(val,i){return{value:val,timestamp:timestamp_1[i]}}),error:!1}),[3,3];case 2:return ex_1=_b.sent(),console.error(ex_1),this.setState({error:!0}),[3,3];case 3:return[2]}})})},BalanceHistory.prototype.componentDidMount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.refreshBalance()];case 1:return _a.sent(),[2]}})})},BalanceHistory.prototype.componentDidUpdate=function(prevProps){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return prevProps.end===this.props.end&&prevProps.address===this.props.address&&prevProps.start===this.props.start?[3,2]:[4,this.refreshBalance()];case 1:_a.sent(),_a.label=2;case 2:return[2]}})})},BalanceHistory.prototype.render=function(){return this.state.error?react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,"Error fetching balance"):react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(recharts__WEBPACK_IMPORTED_MODULE_2__.c,{width:"100%",height:400},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(recharts__WEBPACK_IMPORTED_MODULE_2__.b,{data:this.state.balance},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(recharts__WEBPACK_IMPORTED_MODULE_2__.e,{dataKey:"timestamp"}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(recharts__WEBPACK_IMPORTED_MODULE_2__.d,{formatter:function(val){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("span",null,Object(_format__WEBPACK_IMPORTED_MODULE_3__.a)(val,"tz"))}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(recharts__WEBPACK_IMPORTED_MODULE_2__.f,{tickFormatter:function(val){return Object(_format__WEBPACK_IMPORTED_MODULE_3__.a)(val,"tz")}}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(recharts__WEBPACK_IMPORTED_MODULE_2__.a,{type:"monotone",dataKey:"value",stroke:"#ff7300",yAxisId:0})))},BalanceHistory.contextType=_tezos_context__WEBPACK_IMPORTED_MODULE_1__.a,BalanceHistory}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component)},392:function(module,__webpack_exports__,__webpack_require__){"use strict";var _storybook_theming__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(393);__webpack_exports__.a=Object(_storybook_theming__WEBPACK_IMPORTED_MODULE_0__.create)({base:"light",brandTitle:"Tezos ts react components demo"})},423:function(module,exports,__webpack_require__){__webpack_require__(424),__webpack_require__(528),module.exports=__webpack_require__(529)},529:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(75),_theme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(392),req=__webpack_require__(662);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{theme:_theme__WEBPACK_IMPORTED_MODULE_1__.a}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(req)},module)}.call(this,__webpack_require__(189)(module))},55:function(module,__webpack_exports__,__webpack_require__){"use strict";var tezos_ts_http_utils_es5=__webpack_require__(169);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function __generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var defaultIndexerUrl="https://api.tez.ie/indexer/mainnet",tezos_ts_indexer_es5_IndexerClient=function(){function IndexerClient(url,httpBackend){void 0===url&&(url=defaultIndexerUrl),void 0===httpBackend&&(httpBackend=new tezos_ts_http_utils_es5.a),this.url=url,this.httpBackend=httpBackend}return IndexerClient.prototype.getBalanceHistory=function(address,_a){var _b=void 0===_a?{}:_a,start=_b.start,end=_b.end,limit=_b.limit;return function __awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}(this,void 0,void 0,function(){return __generator(this,function(_c){return[2,this.httpBackend.createRequest({url:this.url+"/balances/"+address,method:"GET",query:{start:start,end:end,limit:limit}})]})})},IndexerClient}(),bignumber=__webpack_require__(36),bignumber_default=__webpack_require__.n(bignumber),__assign=function(){return(__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};function tezos_ts_rpc_es5_awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function tezos_ts_rpc_es5_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}var camelCase=__webpack_require__(687),getByPath=__webpack_require__(711),setByPath=__webpack_require__(743);function camelCaseProps(data){var response=Array.isArray(data)?[]:{};return Object.entries(data).forEach(function(_a){var key=_a[0],value=_a[1];"object"==typeof value&&value?Object.entries(value).length>0?response[camelCase(key)]=camelCaseProps(value):response[camelCase(key)]=value:response[camelCase(key)]=value}),response}var defaultRPC="https://tezrpc.me",defaultChain="main",defaultRPCOptions={block:"head"},tezos_ts_rpc_es5_RpcClient=function(){function RpcClient(url,chain,httpBackend){void 0===url&&(url=defaultRPC),void 0===chain&&(chain=defaultChain),void 0===httpBackend&&(httpBackend=new tezos_ts_http_utils_es5.a),this.url=url,this.chain=chain,this.httpBackend=httpBackend}return RpcClient.prototype.getBlockHash=function(_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_rpc_es5_generator(this,function(_b){switch(_b.label){case 0:return[4,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/hash",method:"GET"})];case 1:return[2,_b.sent()]}})})},RpcClient.prototype.getBalance=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){var balance;return tezos_ts_rpc_es5_generator(this,function(_b){switch(_b.label){case 0:return[4,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address+"/balance",method:"GET"})];case 1:return balance=_b.sent(),[2,new bignumber_default.a(balance)]}})})},RpcClient.prototype.getStorage=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_rpc_es5_generator(this,function(_b){return[2,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address+"/storage",method:"GET"})]})})},RpcClient.prototype.getScript=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_rpc_es5_generator(this,function(_b){return[2,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address+"/script",method:"GET"})]})})},RpcClient.prototype.getContract=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){var contractResponse;return tezos_ts_rpc_es5_generator(this,function(_b){switch(_b.label){case 0:return[4,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address,method:"GET"})];case 1:return contractResponse=_b.sent(),[2,__assign(__assign({},contractResponse),{balance:new bignumber_default.a(contractResponse.balance)})]}})})},RpcClient.prototype.getManager=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_rpc_es5_generator(this,function(_b){return[2,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address+"/manager",method:"GET"})]})})},RpcClient.prototype.getDelegate=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_rpc_es5_generator(this,function(_b){return[2,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address+"/delegate",method:"GET"})]})})},RpcClient.prototype.getBigMapKey=function(address,key,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_rpc_es5_generator(this,function(_b){return[2,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/contracts/"+address+"/big_map_get",method:"POST"},key)]})})},RpcClient.prototype.getDelegates=function(address,_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){var response;return tezos_ts_rpc_es5_generator(this,function(_b){switch(_b.label){case 0:return[4,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/delegates/"+address,method:"GET"})];case 1:return[2,{deactivated:(response=_b.sent()).deactivated,balance:new bignumber_default.a(response.balance),frozenBalance:new bignumber_default.a(response.frozen_balance),frozenBalanceByCycle:response.frozen_balance_by_cycle.map(function(_a){var deposit=_a.deposit,fees=_a.fees,rewards=_a.rewards,rest=function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["deposit","fees","rewards"]);return __assign(__assign({},rest),{deposit:new bignumber_default.a(deposit),fees:new bignumber_default.a(fees),rewards:new bignumber_default.a(rewards)})}),stakingBalance:new bignumber_default.a(response.staking_balance),delegatedContracts:response.delegated_contracts,delegatedBalance:new bignumber_default.a(response.delegated_balance),gracePeriod:response.grace_period}]}})})},RpcClient.prototype.getConstants=function(_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){var response,convResponse,castedResponse;return tezos_ts_rpc_es5_generator(this,function(_b){switch(_b.label){case 0:return[4,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block+"/context/constants",method:"GET"})];case 1:return response=_b.sent(),convResponse=camelCaseProps(response),castedResponse=function castToBigNumber(data,keys){var returnArray=Array.isArray(data);void 0===keys&&(keys=Object.keys(data));var response=returnArray?[]:{};return keys.forEach(function(key){var res,item=getByPath(data,key);if(void 0!==item){if(Array.isArray(item))return res=castToBigNumber(item),void setByPath(response,key,res);res=new bignumber_default.a(item),setByPath(response,key,res)}}),response}(convResponse,["timeBetweenBlocks","hardGasLimitPerOperation","hardGasLimitPerBlock","proofOfWorkThreshold","tokensPerRoll","blockSecurityDeposit","endorsementSecurityDeposit","blockReward","endorsementReward","costPerByte","hardStorageLimitPerOperation"]),[2,__assign(__assign({},convResponse),castedResponse)]}})})},RpcClient.prototype.getBlock=function(_a){var block=(void 0===_a?defaultRPCOptions:_a).block;return tezos_ts_rpc_es5_awaiter(this,void 0,void 0,function(){var response,convResponse;return tezos_ts_rpc_es5_generator(this,function(_b){switch(_b.label){case 0:return[4,this.httpBackend.createRequest({url:this.url+"/chains/"+this.chain+"/blocks/"+block,method:"GET"})];case 1:return response=_b.sent(),convResponse=camelCaseProps(response),[2,__assign({},convResponse)]}})})},RpcClient}(),buffer=__webpack_require__(25),extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};function __extends(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var tezos_ts_michelson_encoder_es5_assign=function(){return(tezos_ts_michelson_encoder_es5_assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};var Token=function(){function Token(val,idx,fac){this.val=val,this.idx=idx,this.fac=fac,this.createToken=this.fac}return Object.defineProperty(Token.prototype,"annot",{get:function(){return(Array.isArray(this.val.annots)?this.val.annots[0]:String(this.idx)).replace(/(%|\:)(_Liq_entry_)?/,"")},enumerable:!0,configurable:!0}),Token}(),bs58check=__webpack_require__(749);function b58cencode(payload,prefix){var payloadAr=Uint8Array.from(buffer.Buffer.from(payload,"hex")),n=new Uint8Array(prefix.length+payloadAr.length);return n.set(prefix),n.set(payloadAr,prefix.length),bs58check.encode(buffer.Buffer.from(n.buffer))}function encodePubKey(value){if("00"===value.substring(0,2)){var prefix={"0000":new Uint8Array([6,161,159]),"0001":new Uint8Array([6,161,161]),"0002":new Uint8Array([6,161,164])};return b58cencode(value.substring(4),prefix[value.substring(0,4)])}return b58cencode(value.substring(2,42),new Uint8Array([2,90,121]))}var BigMapToken=function(_super){function BigMapToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(BigMapToken,_super),Object.defineProperty(BigMapToken.prototype,"ValueSchema",{get:function(){return this.createToken(this.val.args[1],0)},enumerable:!0,configurable:!0}),Object.defineProperty(BigMapToken.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!0,configurable:!0}),BigMapToken.prototype.ExtractSchema=function(){var _a;return(_a={})[this.KeySchema.ExtractSchema()]=this.ValueSchema.ExtractSchema(),_a},BigMapToken.prototype.Execute=function(val){var _this=this;return val.reduce(function(prev,current){var _a;return tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},prev),((_a={})[encodePubKey(current.key.bytes)]=_this.ValueSchema.Execute(current.value),_a))},{})},BigMapToken.prim="big_map",BigMapToken}(Token),PairToken=function(_super){function PairToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(PairToken,_super),PairToken.prototype.Execute=function(val){var _a,_b,leftValue,rightValue,leftToken=this.createToken(this.val.args[0],this.idx),rightToken=this.createToken(this.val.args[1],this.idx+1);return leftToken instanceof PairToken?leftValue=leftToken.Execute(val.args[0]):((_a={})[leftToken.annot]=leftToken.Execute(val.args[0]),leftValue=_a),rightToken instanceof PairToken?rightValue=rightToken.Execute(val.args[1]):((_b={})[rightToken.annot]=rightToken.Execute(val.args[1]),rightValue=_b),tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},leftValue),rightValue)},PairToken.prototype.ExtractSchema=function(){var _a,_b,leftValue,rightValue,leftToken=this.createToken(this.val.args[0],this.idx),rightToken=this.createToken(this.val.args[1],this.idx+1);return leftToken instanceof PairToken?leftValue=leftToken.ExtractSchema():((_a={})[leftToken.annot]=leftToken.ExtractSchema(),leftValue=_a),rightToken instanceof PairToken?rightValue=rightToken.ExtractSchema():((_b={})[rightToken.annot]=rightToken.ExtractSchema(),rightValue=_b),tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},leftValue),rightValue)},PairToken.prim="pair",PairToken}(Token),NatToken=function(_super){function NatToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(NatToken,_super),NatToken.prototype.Execute=function(val){return val.int},NatToken.prototype.ExtractSchema=function(){return NatToken.prim},NatToken.prototype.ToBigMapKey=function(val){return{key:{int:val},type:{prim:NatToken.prim}}},NatToken.prototype.ToKey=function(_a){return _a.int},NatToken.prim="nat",NatToken}(Token),StringToken=function(_super){function StringToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(StringToken,_super),StringToken.prototype.Execute=function(val){return val.string},StringToken.prototype.ExtractSchema=function(){return StringToken.prim},StringToken.prototype.ToKey=function(_a){return _a.string},StringToken.prototype.ToBigMapKey=function(val){return{key:{string:val},type:{prim:StringToken.prim}}},StringToken.prim="string",StringToken}(Token),AddressToken=function(_super){function AddressToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(AddressToken,_super),AddressToken.prototype.ToBigMapKey=function(val){return{key:{bytes:function b58decode(payload){var _a,buf=bs58check.decode(payload),buf2hex=function(buffer){for(var byteArray=new Uint8Array(buffer),hexParts=[],i=0;i<byteArray.length;i++){var paddedHex=("00"+byteArray[i].toString(16)).slice(-2);hexParts.push(paddedHex)}return hexParts.join("")},pref=((_a={})[new Uint8Array([6,161,159]).toString()]="0000",_a[new Uint8Array([6,161,161]).toString()]="0001",_a[new Uint8Array([6,161,164]).toString()]="0002",_a)[new Uint8Array(buf.slice(0,3)).toString()];return pref?pref+buf2hex(buf.slice(3)):"01"+buf2hex(buf.slice(3,42))+"00"}(val)},type:{prim:"bytes"}}},AddressToken.prototype.Execute=function(val){return val.string},AddressToken.prototype.ExtractSchema=function(){return AddressToken.prim},AddressToken.prototype.ToKey=function(_a){var bytes=_a.bytes,string=_a.string;return string||encodePubKey(bytes)},AddressToken.prim="address",AddressToken}(Token),MapToken=function(_super){function MapToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(MapToken,_super),Object.defineProperty(MapToken.prototype,"ValueSchema",{get:function(){return this.createToken(this.val.args[1],0)},enumerable:!0,configurable:!0}),Object.defineProperty(MapToken.prototype,"KeySchema",{get:function(){return this.createToken(this.val.args[0],0)},enumerable:!0,configurable:!0}),MapToken.prototype.Execute=function(val){var _this=this;return val.reduce(function(prev,current){var _a;return tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},prev),((_a={})[_this.KeySchema.ToKey(current.args[0])]=_this.ValueSchema.Execute(current.args[1]),_a))},{})},MapToken.prototype.ExtractSchema=function(){var _a;return(_a={})[this.KeySchema.ExtractSchema()]=this.ValueSchema.ExtractSchema(),_a},MapToken.prim="map",MapToken}(Token),BoolToken=function(_super){function BoolToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(BoolToken,_super),BoolToken.prototype.Execute=function(val){return val.prim},BoolToken.prototype.ExtractSchema=function(){return BoolToken.prim},BoolToken.prim="bool",BoolToken}(Token),OrToken=function(_super){function OrToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(OrToken,_super),OrToken.prototype.Execute=function(val){var _a,leftToken=this.createToken(this.val.args[0],this.idx),rightToken=this.createToken(this.val.args[1],this.idx+1);return"Right"===val.prim?rightToken.Execute(val.args[0]):((_a={})[leftToken.annot]=leftToken.Execute(val.args[0]),_a)},OrToken.prototype.ExtractSchema=function(){var _a,_b,leftValue,rightValue,leftToken=this.createToken(this.val.args[0],this.idx),rightToken=this.createToken(this.val.args[1],this.idx+1);return leftToken instanceof OrToken?leftValue=leftToken.ExtractSchema():((_a={})[leftToken.annot]=leftToken.ExtractSchema(),leftValue=_a),rightToken instanceof OrToken?rightValue=rightToken.ExtractSchema():((_b={})[rightToken.annot]=rightToken.ExtractSchema(),rightValue=_b),tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},leftValue),rightValue)},OrToken.prim="or",OrToken}(Token),ContractToken=function(_super){function ContractToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(ContractToken,_super),ContractToken.prototype.Execute=function(val){return val.string},ContractToken.prototype.ExtractSchema=function(){return ContractToken.prim},ContractToken.prim="contract",ContractToken}(Token),ListToken=function(_super){function ListToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(ListToken,_super),ListToken.prototype.Execute=function(val){var schema=this.createToken(this.val.args[0],0);return val.reduce(function(prev,current){return function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}(prev,[schema.Execute(current)])},[])},ListToken.prototype.ExtractSchema=function(){return ListToken.prim},ListToken.prim="list",ListToken}(Token),MutezToken=function(_super){function MutezToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(MutezToken,_super),MutezToken.prototype.Execute=function(val){return val.int},MutezToken.prototype.ExtractSchema=function(){return MutezToken.prim},MutezToken.prototype.ToBigMapKey=function(val){return{key:{int:val},type:{prim:MutezToken.prim}}},MutezToken.prototype.ToKey=function(_a){return _a.int},MutezToken.prim="mutez",MutezToken}(Token),BytesToken=function(_super){function BytesToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(BytesToken,_super),BytesToken.prototype.ToBigMapKey=function(val){return{key:{bytes:val},type:{prim:BytesToken.prim}}},BytesToken.prototype.Execute=function(val){return val.bytes},BytesToken.prototype.ExtractSchema=function(){return BytesToken.prim},BytesToken.prototype.ToKey=function(_a){var bytes=_a.bytes,string=_a.string;return string||bytes},BytesToken.prim="bytes",BytesToken}(Token),OptionToken=function(_super){function OptionToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(OptionToken,_super),OptionToken.prototype.Execute=function(val){return this.createToken(this.val.args[0],0).Execute(val.args[0])},OptionToken.prototype.ExtractSchema=function(){return OptionToken.prim},OptionToken.prim="option",OptionToken}(Token),TimestampToken=function(_super){function TimestampToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(TimestampToken,_super),TimestampToken.prototype.Execute=function(val){return val.string},TimestampToken.prototype.ExtractSchema=function(){return TimestampToken.prim},TimestampToken.prototype.ToKey=function(_a){return _a.string},TimestampToken.prototype.ToBigMapKey=function(val){return{key:{string:val},type:{prim:TimestampToken.prim}}},TimestampToken.prim="timestamp",TimestampToken}(Token),IntToken=function(_super){function IntToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(IntToken,_super),IntToken.prototype.Execute=function(val){return val.int},IntToken.prototype.ExtractSchema=function(){return IntToken.prim},IntToken.prototype.ToBigMapKey=function(val){return{key:{int:val},type:{prim:IntToken.prim}}},IntToken.prototype.ToKey=function(_a){return _a.int},IntToken.prim="int",IntToken}(Token),UnitToken=function(_super){function UnitToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(UnitToken,_super),UnitToken.prototype.Execute=function(){return null},UnitToken.prototype.ExtractSchema=function(){return UnitToken.prim},UnitToken.prim="unit",UnitToken}(Token),KeyToken=function(_super){function KeyToken(val,idx,fac){var _this=_super.call(this,val,idx,fac)||this;return _this.val=val,_this.idx=idx,_this.fac=fac,_this}return __extends(KeyToken,_super),KeyToken.prototype.Execute=function(val){return val.string},KeyToken.prototype.ExtractSchema=function(){return KeyToken.prim},KeyToken.prim="key",KeyToken}(Token),tokens=[PairToken,NatToken,StringToken,BigMapToken,AddressToken,MapToken,BoolToken,OrToken,ContractToken,ListToken,MutezToken,BytesToken,OptionToken,TimestampToken,IntToken,UnitToken,KeyToken];function createToken(val,idx){var t=tokens.find(function(x){return x.prim===val.prim});if(!t)throw Error(JSON.stringify(val));return new t(val,idx,createToken)}var Schema=function(){function Schema(val){this.root=createToken(val,0),"pair"===val.prim&&"big_map"===val.args[0].prim&&(this.bigMap=new BigMapToken(val.args[0],0,createToken))}return Schema.fromRPCResponse=function(val){return new Schema(val.script.code.find(function(x){return"storage"===x.prim}).args[0])},Schema.prototype.Execute=function(val){return this.root.Execute(val)},Schema.prototype.ExecuteOnBigMapDiff=function(diff){if(!this.bigMap)throw new Error("No big map schema");return this.bigMap.Execute(diff)},Schema.prototype.ExecuteOnBigMapValue=function(key){if(!this.bigMap)throw new Error("No big map schema");return this.bigMap.ValueSchema.Execute(key)},Schema.prototype.EncodeBigMapKey=function(key){if(!this.bigMap)throw new Error("No big map schema");return this.bigMap.KeySchema.ToBigMapKey(key)},Schema.prototype.ExtractSchema=function(){return this.root.ExtractSchema()},Schema.prototype.ComputeState=function(tx,state){var _a,_this=this;if(!this.bigMap)throw new Error("No big map schema");var bigMap=tx.reduce(function(prev,current){return tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},prev),_this.ExecuteOnBigMapDiff(current.contents[0].metadata.operation_result.big_map_diff))},{});return tezos_ts_michelson_encoder_es5_assign(tezos_ts_michelson_encoder_es5_assign({},this.Execute(state)),((_a={})[this.bigMap.annot]=bigMap,_a))},Schema}(),bignumber_js_bignumber=(function(){function ParameterSchema(val){this.root=createToken(val,0)}ParameterSchema.fromRPCResponse=function(val){return new ParameterSchema(val.script.code.find(function(x){return"parameter"===x.prim}).args[0])},ParameterSchema.prototype.Execute=function(val){return this.root.Execute(val)},ParameterSchema.prototype.ExtractSchema=function(){return this.root.ExtractSchema()}}(),__webpack_require__(382)),bignumber_js_bignumber_default=__webpack_require__.n(bignumber_js_bignumber);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function tezos_ts_es5_awaiter(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function tezos_ts_es5_generator(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function step(op){if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}}__webpack_require__.d(__webpack_exports__,"a",function(){return Tezos}),__webpack_require__.d(__webpack_exports__,"b",function(){return tezos_ts_es5_TezosToolkit});var tezos_ts_es5_RpcContractProvider=function(){function RpcContractProvider(rpc){this.rpc=rpc}return RpcContractProvider.prototype.getStorage=function(contract,schema){return tezos_ts_es5_awaiter(this,void 0,void 0,function(){var contractSchema,storage;return tezos_ts_es5_generator(this,function(_a){switch(_a.label){case 0:return schema?[3,2]:[4,this.rpc.getScript(contract)];case 1:schema=_a.sent(),_a.label=2;case 2:return contractSchema=schema instanceof Schema?schema:Schema.fromRPCResponse({script:schema}),[4,this.rpc.getStorage(contract)];case 3:return storage=_a.sent(),[2,contractSchema.Execute(storage)]}})})},RpcContractProvider.prototype.getBigMapKey=function(contract,key,schema){return tezos_ts_es5_awaiter(this,void 0,void 0,function(){var contractSchema,encodedKey,val;return tezos_ts_es5_generator(this,function(_a){switch(_a.label){case 0:return schema?[3,2]:[4,this.rpc.getScript(contract)];case 1:schema=_a.sent(),_a.label=2;case 2:return contractSchema=schema instanceof Schema?schema:Schema.fromRPCResponse({script:schema}),encodedKey=contractSchema.EncodeBigMapKey(key),[4,this.rpc.getBigMapKey(contract,encodedKey)];case 3:return val=_a.sent(),[2,contractSchema.ExecuteOnBigMapValue(val)]}})})},RpcContractProvider}(),IndexerProvider=function(){function IndexerProvider(indexerClient){this.indexerClient=indexerClient}return IndexerProvider.prototype.balanceHistory=function(address,_a){var _b=void 0===_a?{}:_a,start=_b.start,end=_b.end,limit=_b.limit;return this.indexerClient.getBalanceHistory(address,{start:start,end:end,limit:limit})},IndexerProvider}(),Subscription=function(){function Subscription(pollingSubscriber){var _this=this;this.pollingSubscriber=pollingSubscriber,this.errorListeners=[],this.messageListeners=[],this.closeListeners=[];var previousHash="",poll=function(){return tezos_ts_es5_awaiter(_this,void 0,void 0,function(){var hash,ex_1;return tezos_ts_es5_generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.pollingSubscriber.rpc.getBlockHash()];case 1:return(hash=_a.sent())&&hash!==previousHash&&(previousHash=hash,this.call(this.messageListeners,hash)),[3,3];case 2:return ex_1=_a.sent(),this.call(this.errorListeners,ex_1),[3,3];case 3:return[2]}})})};this.interval=setInterval(function(){return tezos_ts_es5_awaiter(_this,void 0,void 0,function(){return tezos_ts_es5_generator(this,function(_a){switch(_a.label){case 0:return[4,poll()];case 1:return _a.sent(),[2]}})})},this.pollingSubscriber.POLL_INTERVAL),poll()}return Subscription.prototype.call=function(listeners,value){for(var _i=0,listeners_1=listeners;_i<listeners_1.length;_i++){var l=listeners_1[_i];try{l(value)}catch(ex){console.error(ex)}}},Subscription.prototype.remove=function(listeners,value){var idx=listeners.indexOf(value);-1!==idx&&listeners.splice(idx,1)},Subscription.prototype.on=function(type,cb){switch(type){case"data":this.messageListeners.push(cb);break;case"error":this.errorListeners.push(cb);break;case"close":this.closeListeners.push(cb);break;default:console.warn("Trying to register on an unsupported event: "+type)}},Subscription.prototype.off=function(type,cb){switch(type){case"data":this.remove(this.messageListeners,cb);break;case"error":this.remove(this.errorListeners,cb);break;case"close":this.remove(this.closeListeners,cb);break;default:console.warn("Trying to unregister on an unsupported event: "+type)}},Subscription.prototype.close=function(){clearInterval(this.interval),this.call(this.closeListeners)},Subscription}(),PollingSubscribeProvider=function(){function PollingSubscribeProvider(rpc,POLL_INTERVAL){void 0===POLL_INTERVAL&&(POLL_INTERVAL=2e4),this.rpc=rpc,this.POLL_INTERVAL=POLL_INTERVAL}return PollingSubscribeProvider.prototype.subscribe=function(_filter){return new Subscription(this)},PollingSubscribeProvider.prototype.setRPC=function(rpc){this.rpc=rpc},PollingSubscribeProvider}(),RpcTzProvider=function(){function RpcTzProvider(rpc){this.rpc=rpc}return RpcTzProvider.prototype.getBalance=function(address){return tezos_ts_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_es5_generator(this,function(_a){return[2,this.rpc.getBalance(address)]})})},RpcTzProvider.prototype.getDelegate=function(address){return tezos_ts_es5_awaiter(this,void 0,void 0,function(){return tezos_ts_es5_generator(this,function(_a){return[2,this.rpc.getDelegate(address)]})})},RpcTzProvider}(),TZ_DECIMALS=6,MTZ_DECIMALS=3;function getDecimal(format){switch(format){case"tz":return TZ_DECIMALS;case"mtz":return MTZ_DECIMALS;case"mutez":default:return 0}}function format(from,to,amount){void 0===from&&(from="mutez"),void 0===to&&(to="mutez");var bigNum=new bignumber_js_bignumber_default.a(amount);return bigNum.isNaN()?amount:bigNum.multipliedBy(Math.pow(10,getDecimal(from))).dividedBy(Math.pow(10,getDecimal(to)))}var tezos_ts_es5_TezosToolkit=function(){function TezosToolkit(){this._rpcClient=new tezos_ts_rpc_es5_RpcClient,this._indexerClient=new tezos_ts_indexer_es5_IndexerClient,this._options={},this.format=format,this.setProvider({rpc:this._rpcClient})}return TezosToolkit.prototype.setProvider=function(_a){var rpc=_a.rpc,indexer=_a.indexer,stream=_a.stream;this.setRpcProvider(rpc),this.setIndexerProvider(indexer),this.setStreamProvider(stream)},TezosToolkit.prototype.setRpcProvider=function(rpc){this._rpcClient="string"==typeof rpc?new tezos_ts_rpc_es5_RpcClient(rpc):rpc instanceof tezos_ts_rpc_es5_RpcClient?rpc:new tezos_ts_rpc_es5_RpcClient,this._tz=new RpcTzProvider(this._rpcClient),this._contract=new tezos_ts_es5_RpcContractProvider(this._rpcClient),this._options.rpc=rpc,void 0===this._options.stream&&this._stream instanceof PollingSubscribeProvider&&this._stream.setRPC(this._rpcClient)},TezosToolkit.prototype.setIndexerProvider=function(indexer){this._indexerClient="string"==typeof indexer?new tezos_ts_indexer_es5_IndexerClient(indexer):indexer instanceof tezos_ts_indexer_es5_IndexerClient?indexer:new tezos_ts_indexer_es5_IndexerClient,this._query=new IndexerProvider(this._indexerClient),this._options.indexer=indexer},TezosToolkit.prototype.setStreamProvider=function(stream){this._stream="string"==typeof stream?new PollingSubscribeProvider(new tezos_ts_rpc_es5_RpcClient(stream)):void 0!==stream?stream:new PollingSubscribeProvider(this._rpcClient),this._options.stream=stream},Object.defineProperty(TezosToolkit.prototype,"tz",{get:function(){return this._tz},enumerable:!0,configurable:!0}),Object.defineProperty(TezosToolkit.prototype,"contract",{get:function(){return this._contract},enumerable:!0,configurable:!0}),Object.defineProperty(TezosToolkit.prototype,"query",{get:function(){return this._query},enumerable:!0,configurable:!0}),Object.defineProperty(TezosToolkit.prototype,"stream",{get:function(){return this._stream},enumerable:!0,configurable:!0}),TezosToolkit}(),Tezos=new tezos_ts_es5_TezosToolkit},662:function(module,exports,__webpack_require__){var map={"./balance-history.stories.tsx":663,"./index.stories.tsx":886};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=662},663:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(75),_src_balance_history__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(381),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),_tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(55),_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35),stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Balance history component",module);stories.addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.withKnobs),stories.add("default",function(){var tk=function createTK(){var tk=new _tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_4__.b;return tk.setProvider({rpc:"https://alphanet-node.tzscan.io"}),tk}();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h2",null,"Balance over time for ",Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Address","KT1DzGefKWdrwWn9HxcYtKR46todiC66bxsH")),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__.a.Provider,{value:tk},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_balance_history__WEBPACK_IMPORTED_MODULE_2__.a,{start:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.date)("Start",new Date((new Date).getFullYear(),0,1)),end:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.date)("End",new Date),address:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Address","KT1DzGefKWdrwWn9HxcYtKR46todiC66bxsH")})))})}.call(this,__webpack_require__(189)(module))},669:function(module,exports){},671:function(module,exports){},886:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(75),_src_balance__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(124),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(19),_tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(55),_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(35),stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Balance component",module);function createTK(){var tk=new _tezos_ts_tezos_ts__WEBPACK_IMPORTED_MODULE_4__.b;return tk.setProvider({rpc:"https://alphanet-node.tzscan.io"}),tk}stories.addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.withKnobs),stories.add("default",function(){var tk=createTK();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__.a.Provider,{value:tk},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_balance__WEBPACK_IMPORTED_MODULE_2__.a,{format:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.select)("Format",{None:void 0,"mꜩ":"mtz","ꜩ":"tz"},void 0),address:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Address","KT1SawqvsVdAbDzqc4KwPpaS1S1veuFgF9AN")}))}),stories.add("mꜩ formatted",function(){var tk=createTK();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__.a.Provider,{value:tk},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_balance__WEBPACK_IMPORTED_MODULE_2__.a,{format:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.select)("Format",{None:void 0,"mꜩ":"mtz","ꜩ":"tz"},"mtz"),address:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Address","KT1SawqvsVdAbDzqc4KwPpaS1S1veuFgF9AN")}))}),stories.add("ꜩ formatted",function(){var tk=createTK();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__.a.Provider,{value:tk},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_balance__WEBPACK_IMPORTED_MODULE_2__.a,{format:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.select)("Format",{None:void 0,"mꜩ":"mtz","ꜩ":"tz"},"tz"),address:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Address","KT1SawqvsVdAbDzqc4KwPpaS1S1veuFgF9AN")}))}),stories.add("Errored",function(){var tk=createTK();return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_tezos_context__WEBPACK_IMPORTED_MODULE_5__.a.Provider,{value:tk},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_src_balance__WEBPACK_IMPORTED_MODULE_2__.a,{address:Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_3__.text)("Address","KT1SawqvsVdAbDzqc4KwPpaS1S1veuFgF9A")}))})}.call(this,__webpack_require__(189)(module))}},[[423,1,2]]]);
//# sourceMappingURL=main.85d0bb685d2567af33f5.bundle.js.map